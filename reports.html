<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapports & Analytics - SwiftPOS</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <script src="js/design-inline.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        .reports-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-top: 20px;
        }
        
        .report-card {
            min-height: 400px;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: rgba(138, 43, 226, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(138, 43, 226, 0.3);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: var(--color-primary);
            margin: 10px 0;
        }
        
        .stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9em;
        }
        
        .filters-section {
            margin-bottom: 30px;
        }
        
        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>‚ö° SwiftPOS</h2>
                <p>Administration</p>
            </div>
            
            <nav>
                <ul class="sidebar-nav">
                    <li>
                        <a href="admin.html">
                            <span class="icon">üìä</span>
                            <span>Tableau de bord</span>
                        </a>
                    </li>
                    <li id="posNavItem" style="display: none;">
                        <a href="pos.html">
                            <span class="icon">‚ö°</span>
                            <span>Point de vente</span>
                        </a>
                    </li>
                    <li>
                        <a href="accounts.html">
                            <span class="icon">üë•</span>
                            <span>Comptes</span>
                        </a>
                    </li>
                    <li>
                        <a href="categories.html">
                            <span class="icon">üè∑Ô∏è</span>
                            <span>Cat√©gories</span>
                        </a>
                    </li>
                    <li>
                        <a href="products.html">
                            <span class="icon">üì¶</span>
                            <span>Produits</span>
                        </a>
                    </li>
                    <li>
                        <a href="barcodes.html">
                            <span class="icon">üìã</span>
                            <span>Codes-Barres</span>
                        </a>
                    </li>
                    <li>
                        <a href="promotions.html">
                            <span class="icon">üéØ</span>
                            <span>Promotions</span>
                        </a>
                    </li>
                    <li>
                        <a href="sales-history.html">
                            <span class="icon">üí∞</span>
                            <span>Ventes</span>
                        </a>
                    </li>
                    <li>
                        <a href="reports.html" class="active">
                            <span class="icon">üìà</span>
                            <span>Rapports</span>
                        </a>
                    </li>
                    <li>
                        <a href="design.html">
                            <span class="icon">üé®</span>
                            <span>Personnalisation</span>
                        </a>
                    </li>
                    <li>
                        <a href="settings.html">
                            <span class="icon">‚öôÔ∏è</span>
                            <span>Param√®tres</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-user">
                <div class="sidebar-user-info">
                    <p class="name" id="userName">Admin</p>
                    <p class="email" id="userEmail">admin@swiftpos.com</p>
                </div>
                <button class="btn btn-secondary" id="logoutBtn" style="width: 100%;">
                    D√©connexion
                </button>
            </div>
        </aside>
        
        <main class="main-content">
            <div class="main-header">
                <h1>üìà Rapports & Analytics</h1>
            </div>
            
            <!-- Filtres -->
            <div class="filters-section card">
                <h2 style="color: var(--color-primary); margin-bottom: 20px;">Filtres de p√©riode</h2>
                <div class="filters-grid">
                    <div class="input-group">
                        <label for="periodType">Type de p√©riode</label>
                        <select id="periodType">
                            <option value="day">Par jour</option>
                            <option value="week">Par semaine</option>
                            <option value="month" selected>Par mois</option>
                            <option value="year">Par ann√©e</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="dateFrom">Date de d√©but</label>
                        <input type="date" id="dateFrom">
                    </div>
                    <div class="input-group">
                        <label for="dateTo">Date de fin</label>
                        <input type="date" id="dateTo">
                    </div>
                    <div class="input-group" style="display: flex; align-items: flex-end;">
                        <button class="btn btn-primary" id="applyFilters" style="width: 100%;">
                            Appliquer
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Statistiques -->
            <div class="stats-grid" id="statsGrid">
                <div class="stat-card">
                    <div class="stat-label">Total Revenus</div>
                    <div class="stat-value" id="totalRevenue">$0.00</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Nombre de ventes</div>
                    <div class="stat-value" id="totalSales">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Panier moyen</div>
                    <div class="stat-value" id="averageCart">$0.00</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Total remises</div>
                    <div class="stat-value" id="totalDiscounts">$0.00</div>
                </div>
            </div>
            
            <!-- Graphiques -->
            <div class="reports-container">
                <div class="report-card card">
                    <h2 style="color: var(--color-primary); margin-bottom: 20px;">Revenus par p√©riode</h2>
                    <div class="chart-container">
                        <canvas id="revenueChart"></canvas>
                    </div>
                </div>
                
                <div class="report-card card">
                    <h2 style="color: var(--color-primary); margin-bottom: 20px;">Nombre de ventes</h2>
                    <div class="chart-container">
                        <canvas id="salesChart"></canvas>
                    </div>
                </div>
                
                <div class="report-card card">
                    <h2 style="color: var(--color-primary); margin-bottom: 20px;">Top 10 Produits</h2>
                    <div class="chart-container">
                        <canvas id="productsChart"></canvas>
                    </div>
                </div>
                
                <div class="report-card card">
                    <h2 style="color: var(--color-primary); margin-bottom: 20px;">Revenus par cat√©gorie</h2>
                    <div class="chart-container">
                        <canvas id="categoriesChart"></canvas>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script type="module" src="js/design-loader.js"></script>
    <script type="module" src="js/reports.js"></script>
</body>
</html>

